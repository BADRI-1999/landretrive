import requests
import csv
import json
import re
from bs4 import BeautifulSoup
import time

url = "https://bhulekh.mahabhumi.gov.in/"

headers = {
    "Accept": "*/*",
    "Accept-Language": "en-IN",
    "Cache-Control": "no-cache",
    "Connection": "keep-alive",
    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8",
    "DNT": "1",
    "Origin": "https://bhulekh.mahabhumi.gov.in",
    "Referer": "https://bhulekh.mahabhumi.gov.in/",
    "Sec-Fetch-Dest": "empty",
    "Sec-Fetch-Mode": "cors",
    "Sec-Fetch-Site": "same-origin",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36",
    "X-MicrosoftAjax": "Delta=true",
    "X-Requested-With": "XMLHttpRequest",
    "sec-ch-ua": '"Chromium";v="142", "Google Chrome";v="142", "Not_A Brand";v="99"',
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": '"Windows"',
}

cookies = {
    "ASP.NET_SessionId": "g4zw2hnjfeiwe1au2t4ufqj2",
    "SRVNAME": "App4",
}


def extract_options_from_html(html_text, select_id):
    """
    Extract dropdown options from HTML response.
    Looks for <option value="...">...</option> patterns in the HTML.
    """
    options = {}
    # Use BeautifulSoup to locate the specific <select> by id or name, then extract <option> children.
    try:
        soup = BeautifulSoup(html_text, "html.parser")
        sel = None
        if select_id:
            # match either full id or substring (e.g., 'ddlVillForAll' or 'ContentPlaceHolder1_ddlVillForAll')
            sel = soup.find('select', id=lambda v: v and select_id in v)
            if not sel:
                sel = soup.find('select', attrs={'name': lambda v: v and select_id in v})
        # If specific select not found, fall back to first select
        if not sel:
            sel = soup.find('select')

        if sel:
            for opt in sel.find_all('option'):
                code = (opt.get('value') or '').strip()
                name = (opt.text or '').strip()
                # include entries where either code or name exist
                if code or name:
                    options[code] = name
            return options
    except Exception:
        # fallback to regex if BeautifulSoup parsing fails
        pattern = r'<option\\s+value="([^\\\"]*)">([^<]*)</option>'
        matches = re.findall(pattern, html_text)
        for code, name in matches:
            if code and name:
                options[code] = name.strip()
    return options


def get_districts():
    """Fetch all district codes and names."""
    print("Fetching districts...")
    session = requests.Session()
    session.headers.update(headers)
    session.cookies.update(cookies)

    # Initial GET to get the form
    resp = session.get(url)
    if resp.status_code != 200:
        print(f"Error fetching districts: {resp.status_code}")
        return {}

    # Extract districts from the initial HTML
    districts = extract_options_from_html(resp.text, "ddlMainDist")
    print(f"Found {len(districts)} districts")
    return districts, session


def get_mandals(session, district_code):
    """Fetch mandals for a given district."""
    print(f"  Fetching mandals for district {district_code}...")
    
    data = {
        "ctl00$ContentPlaceHolder1$ScriptManager1": "ctl00$ContentPlaceHolder1$UpdatePanel1|ctl00$ContentPlaceHolder1$ddlMainDist",
        "__EVENTTARGET": "ctl00$ContentPlaceHolder1$ddlMainDist",
        "__EVENTARGUMENT": "",
        "__LASTFOCUS": "",
        "__VIEWSTATE": "/wEPDwUKMTQ2MzYxMjg1OA8WAh4Ldmlld0NhcHRjaGEFBnNwSGhTRhYCZg9kFgQCAw8PFgIeBFRleHQFsAFNQUhBIEJodWxla2ggKGkuZS4gTWFoYXJhc2h0cmEgQmh1bWkgQWJoaWxla2gpIC0gYSBsYW5kIHJlY29yZCB3ZWJzaXRlIG9mIE1haGFyYXNodHJhIHN0YXRlIChJbmRpYSkgdGhhdCBwcm92aWRlcyAgNy8xMiBleHRyYWN0LCA4QSBleHRyYWN0IGFuZCBQcm9wZXJ0eSBDYXJkIG9ubGluZSB0byBjaXRpemVuc2RkAgcPZBYGAgEPZBYKAgMPFgIeB1Zpc2libGVoZAIFDxYCHwJoZAIRDxBkZBYBAgFkAhMPZBYKAgUPDxYCHwFlZGQCCw8PFgIfAWVkZAIRDxBkZBYBZmQCFw8PFgIfAWVkZAIZDxYCHgNzcmMFjhZkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUl3QUFBQW9DQVlBQUFBc1RSTEdBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBZlBTVVJCVkhoZTNaazlydFJLRUlYdkdsZ0FHUklwS1dJRlpHVGtTRVJra0JCQmdnaEp5QWxZQVN0Z0EyeUFEYkFCZ2h2T2U1L2ZuT0hjbXVydWF0c3pRdTlJSmR0ZFZhZCtYRzU3N3IwNUhQSCsvZnZqMldYUmlyTTEvalh5WHhQamI4MXJMVTREazJHUFJQNXZEZXZoV25sVTRyUnN0TDZXb3pzd0dad2tJNndrRXJIR0IrQzNWdzVDMVhkTGpCRm11YXM5aUdzemNXUjdNM0thSVFXejlqMkl5em0zOG8vOFovbXpITmVpd3BIWnpNVGVtdWYwRGxNQlNTbXhTeGFUMmZ2YWlHODIzZ2d0dnIzanRKRFZ2bmRPZHdibVdvVTVSb1h0RGVKY0tsYmtIY1hwNldkeXhIYkdQcUxsRzNrNUg3NlNRR1pUOGRzRE0zSGNOdnExZUxKMTFscjJWVlE0V3JFcmFObTFPQ3U4Rlp2eUs4bkpkQjdYS2dHRnpIYkdYMWpqSTdndjV6MnVTcHpJMTBLbWE5blB4blZVZkdleERNd2xpQytKTGZuaTYvNTcxTDZHbytVenc1WFphaTBlOThMWk4wd3JRTGErUnpKYk9QYUluK0Z2ekttQzJkaHJjdDM4S3lrTDJrdmtrZzNkZy91UytiVXdHOVB0T2I5bXpwc0haaFpyaXR2U2xJcmZ5RWI2bGwwMXhvZ0hSRjJGZXkxbXVHV2Jmc05rUkw0MkUralM2T1d5VmhkeHpYcUpkYTE0YStKY2ZJZlo4OFpFdlYvUEZsKzFsMTBXZXpibUdveGk5UFI3NUJjNVRnTVRGYTFnZXlUUndwN2NlM0NOT0s3Wm80d3pydTBSZDhSeHRzTlVFbk5zVGJMaVB4UERiVWQrMHMvdzc0RXNicFpESmEvWjNHZnRJNW9EMHl1Z0Z6VHFxclk5dXhGdWJtNFdlZmJzMlhIbFA0eGl5Ky9IangvSDFUOWdEUjEybVg0V3YzLy9Qbno5K25YSlVieUt6eHJYdjM3OU9scWZBNzM3Ukk2UjdJV0xmOE9NUU5GcklWODFSWTJ2UUFPQnRBWkdONlRIS1YwOE9yNTkrM2JpUVJRM2s4K2ZQeCs5enVFNXowcUU1NW5sN0hEOUxnTXpDcmdGa1Z2WGQ0bzROaVh1TUQzMEJnYnVubjRHMzc5L1AvRkk0STlydnY3aHc0ZWo5MTJNQnFiRml3amV0eXJjWi9ublk0VmtUYUJyUVUycERJenFHQTNFMW9GUlh4ODhlTEFjbFI4RHhPdEo0QnorTjIvZW5PdzR4dGNUYTU1VGJ5ZkNkaXRhSE9rTzQ4WXR4NjFKN1ZHVUFKZHVTQThlY3pRUVVUL0tOK3E1ZG80WEwxNGNOZWVRcjE1ZFNMYkxPTjhlQStOMlZaOVZyNlFxK1ZxSVB4NGR2cVltVnZQQ0xnNUVoT3VydkJHOUdDMU9kaVRzcytGM3Z0N0FWT0U1OUdwMDNUSXdheHZpb0JpZUloV0VVRHhiYld5V1FGeHZBTnN6UnpVTmVmTGt5ZkxrOVNCYk5iblNpTjdOQkZIUEs0SmFQRGU0VzdtaGN3NWVSUmxhK1dWd1B2clU4NTNoQlZYN1hUNTZTVjZGUkNFUmx3alpzUVV6SE83cmdrN3ZmdkhvaUo3emJHQWN2aDRISXNMMStDRzZqcUxYVFl4THZtNlh4WEcwOGhiaXdGUXc0cXhBSEVzUHFvVFlTUndMeWJFSUd2Zno1OCtqNXJDYyt4QjR3OFFqSGNLYWMvQlVPMy9yRzhVNXF1SzhyWUZ4RzRUZFJFT0wzbXZMZGhyOC9ic0VZWWZpNFdESHlmN3VnazhMUGpCVnlXcmJndE1PUTZKWnNyMENnTzh1MlE2QVNKOTl5RW1Ic09WbjhCaFpQczR4Sy9DMUJpYmFSWEREcGU5OTFNYWhpWUl2ZjlUTEJzaHg2WUhKYWdTK1B2eUdrYTVsNHpmVGQ1Y3F2RGdObk9BeDllMUFjMk11empFcmNJMEdSb09jOVlKZEQ1dlc3aWRRbS8rbDF3VStoSE5peFQ0SWx4NllDc3JmTU40a2dUVTlQU3FZWFNSTFV2NGMvVnlGK1JNcXZjQTFqVlNjQ0hHTWJwcURIQlUveTFjM0J4dHV0TU56MEFEd2Vwb0IvUEJTTncrRGNoRlhOalJ1azMzRGVGNDlWTzB5bkExTUpPUGExM1NkcmFrWUNjMWdvSHBicld4YkgzR0swM3N0S2Zab1lOeFBBNEg0d01oR25GSHZ3TVozakRWUVBIWm4raVd1ckJiUHVkV3ZHWGcvcWxoWDVSRmZ2bnhaZ3I1NzkrN3cvUG56dy8zNzkwOEZSWG4wNk5IaDdkdTNpeTBpUCttZlBuMTYwbVdDdld4OXpYVzZyc2pMbHk5UGZKeTdEaDdXV3J4Y2ErM2h3NGNuSHJlUlJGK3RaZXNJZlJMZjY5ZXY3K2c4cDE2L1d0eklwMCtmam5kdlBEQ1ovczdBakFnaUNCNFRZaWdZbnNlUEh4L3UzYnQzS2g1dUJzcUhCcEZlRFdnVmkxNjJVYWQxYmw3VXRhUXlNQzI5UzJ0Z1hyMTZkVm9mUFF3dVdWejFoR3ZPeGFuMVZzK2lZUGZ4NDhmRDdlM3Q4UTcrQWJvUmx0ZzY4YVBRSXFuYWdmalRPdjc4MUhyOGhSUTU5UTJEUkdoZDIzZ3ZINkgxU2hKWWcwZjZGcWRza0FpdDg0M1NRdVQxZjFZcUw5bDR6cFZ2bU5IMURPVGIzV0VxMS83cnBRVSs0TERCUGhhcUJ2U2FDbVFYQnd2QWl5Nis5Mk8rRG0rK2JveWpwWStjdlc4WTVZVmtlUVBubzAvK2NPbkRGeHZFYzVLZisvdTVrSzIxVUxFOXF4S25tRVFrMGpWSGYvTGp6MnJaWllVS1drZmlyeEdCWDE2eXlXNnVkTm1IWWd1dGdSQkdla0F0bFlIUmtZZUNHc1duWG5Ca1hROGZrZzJZNXpUNzBVc014VnNEK1o1WDJVQXJtUC94Q3VHVm95ZURJMzZzYzZRaGtjZDkwVEVjK2xYRjBYODVaSC80QTlKejgxcDVSb3dHUW5tN1B1TldUT3d5MEEvbnFvcDY2Tmd5TUdzUmE3NVRaZGFRYk0yQlhuK0w2UW5ENGp1UWVLWG4ydTJqdExaMElKdTlkaGh5NmVrZDJRNFRlNmJ2a2xoalZqTjhyVDlEa0lkOGZHQmlQTUJhdGo0TDUxaGl6NUQyYkNtU0hjRGZ3V29BMjYwL01mQ0lTM1kwQUE2OTRwYmsvajJ5dy9SdUdCQ0hudllLUmdNeDBndlp3R1NnZmg0czZ2RlhEMExQcUpzNDNoc0hhNTZUQnFaYXIyT05qN0Q1bGVSWWswaHNBQkRQMnNKNmZtczVNK3pKTllNdGNhdTlhZG1WQm1hVTRKWUNzb0dad1V6c3pKYTFDc2VhR3QxbmpUL28rYUdUekNMNlZEbktPMHdGYTVMWU9qQ2dGVWZyYS9MYUc5V1lNN2xoZTkxYURvZC9BQWlsenV5blF0YjZBQUFBQUVsRlRrU3VRbUNDZAIXD2QWAmYPZBYIAgMPFgIfAmcWBgIDDxBkZBYBZmQCBQ8PFgIfAmdkFhICAQ8PFgIfAQUs4KWtL+Clp+ClqCDgpK7gpL7gpLngpL/gpKTgpYAgKDcvMTIgRGV0YWlscylkZAIFDxBkDxYkZgIBAgICAwIEAgUCBgIHAggCCQIKAgsCDAINAg4CDwIQAhECEgITAhQCFQIWAhcCGAIZAhoCGwIcAh0CHgIfAiACIQIiAiMWJBAFEy0t4KSo4KS/4KS14KSh4KS+LS1lZxAFD+CkheCkleCli+CksuCkvgUBNWcQBRXgpIXgpK7gpLDgpL7gpLXgpKTgpYAFATdnEAUV4KSs4KWB4KSy4KSh4KS+4KSj4KS+BQE0ZxAFEuCkr+CkteCkpOCkruCkvuCkswUCMTRnEAUP4KS14KS+4KS24KS/4KSuBQE2ZxAFFeCkp+CkvuCksOCkvuCktuCkv+CktQUCMjlnEAUx4KSb4KSk4KWN4KSw4KSq4KSk4KWAIOCkuOCkguCkreCkvuCknOClgOCkqOCkl+CksAUCMTlnEAUP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MGcWAWZkAg0PEGQQFQAVABQrAwAWAGQCEw8QZBAVABUAFCsDABYAZAIVDw8WAh8BZWRkAhcPEGQPFgFmFgEFQ+CkuOCksOCljeCkteClhyDgpKjgpILgpKzgpLAv4KSX4KSfIOCkqOCkguCkrOCksChTdXJ2ZXkvR2F0IE51bWJlcikWAWZkAhkPEA8WBh4ORGF0YVZhbHVlRmllbGQFBHNfaWQeDURhdGFUZXh0RmllbGQFB3NfZW5hbWUeC18hRGF0YUJvdW5kZ2QQFQMTLS3gpKjgpL/gpLXgpKHgpL4tLR0g4KS44KSw4KWN4KS14KWHIOCkqOCkguCkrOCksC/gpIXgpJXgpY3gpLfgpLDgpYAg4KS44KSw4KWN4KS14KWHIOCkqOCkguCkrOCksBUDEy0t4KSo4KS/4KS14KSh4KS+LS0BMgE4FCsDA2dnZxYBZmQCGw9kFg4CAQ8PFgIfAQVA4KS44KSw4KWN4KS14KWHIOCkqOCkguCkrOCksCjgpK3gpL7gpJcgMSkoU3VydmV5IE51bWJlcihQYXJ0IDEpKWRkAgcPDxYEHwFlHwJoZGQCCw8PFgIfAQUr4KS44KSw4KWN4KS14KWHIOCkqOCkguCkrOCksChTdXJ2ZXkgTnVtYmVyKWRkAg8PEGQQFQAVABQrAwAWAGQCGw8QZGQWAWZkAiMPFgIfAwWOFmRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSXdBQUFBb0NBWUFBQUFzVFJMR0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc01BQUE3REFjZHZxR1FBQUFmUFNVUkJWSGhlM1prOXJ0UktFSVh2R2xnQUdSSXBLV0lGWkdUa1NFUmtrQkJCZ2doSnlBbFlBU3RnQTJ5QURiQUJnaHZPZTUvZm5PSGNtdXJ1YXRzelF1OUlKZHRkVmFkK1hHNTc3cjA1SFBIKy9mdmoyV1hSaXJNMS9qWHlYeFBqYjgxckxVNERrMkdQUlA1dkRldmhXbmxVNHJSc3RMNldvenN3R1p3a0k2d2tFckhHQitDM1Z3NUMxWGRMakJGbXVhczlpR3N6Y1dSN00zS2FJUVd6OWoySXl6bTM4by84Wi9tekhOZWl3cEhaek1UZW11ZjBEbE1CU1NteFN4YVQyZnZhaUc4MjNnZ3R2cjNqdEpEVnZuZE9kd2JtV29VNVJvWHREZUpjS2xia0hjWHA2V2R5eEhiR1BxTGxHM2s1SDc2U1FHWlQ4ZHNETTNIY052cTFlTEoxMWxyMlZWUTRXckVyYU5tMU9DdThGWnZ5SzhuSmRCN1hLZ0dGekhiR1gxampJN2d2NXoydVNwekkxMEttYTluUHhuVlVmR2V4RE13bGlDK0pMZm5pNi81NzFMNkdvK1V6dzVYWmFpMGU5OExaTjB3clFMYStSekpiT1BhSW4rRnZ6S21DMmRocmN0MzhLeWtMMmt2a2tnM2RnL3VTK2JVd0c5UHRPYjltenBzSFpoWnJpdHZTbElyZnlFYjZsbDAxeG9nSFJGMkZleTFtdUdXYmZzTmtSTDQyRStqUzZPV3lWaGR4elhxSmRhMTRhK0pjZklmWjg4WkV2Vi9QRmwrMWwxMFdlemJtR294aTlQUjc1QmM1VGdNVEZhMWdleVRSd3A3Y2UzQ05PSzdabzR3enJ1MFJkOFJ4dHNOVUVuTnNUYkxpUHhQRGJVZCswcy93NzRFc2JwWkRKYS9aM0dmdEk1b0QweXVnRnpUcXFyWTl1eEZ1Ym00V2VmYnMyWEhsUDR4aXkrL0hqeC9IMVQ5Z0RSMTJtWDRXdjMvL1BuejkrblhKVWJ5S3p4clh2Mzc5T2xxZkE3MzdSSTZSN0lXTGY4T01RTkZySVY4MVJZMnZRQU9CdEFaR042VEhLVjA4T3I1OSszYmlRUlEzazgrZlB4Kzl6dUU1ejBxRTU1bmw3SEQ5TGdNekNyZ0ZrVnZYZDRvNE5pWHVNRDMwQmdidW5uNEczNzkvUC9GSTRJOXJ2djdodzRlajkxMk1CcWJGaXdqZXR5cmNaL25uWTRWa1RhQnJRVTJwREl6cUdBM0Uxb0ZSWHg4OGVMQWNsUjhEeE90SjRCeitOMi9lbk93NHh0Y1RhNTVUYnlmQ2RpdGFIT2tPNDhZdHg2MUo3VkdVQUpkdVNBOGVjelFRVVQvS04rcTVkbzRYTDE0Y05lZVFyMTVkU0xiTE9OOGVBK04yVlo5VnI2UXErVnFJUHg0ZHZxWW1WdlBDTGc1RWhPdXJ2Qkc5R0MxT2RpVHNzK0YzdnQ3QVZPRTU5R3AwM1RJd2F4dmlvQmllSWhXRVVEeGJiV3lXUUZ4dkFOc3pSelVOZWZMa3lmTGs5U0JiTmJuU2lON05CRkhQSzRKYVBEZTRXN21oY3c1ZVJSbGErV1Z3UHZyVTg1M2hCVlg3WFQ1NlNWNkZSQ0VSbHdqWnNRVXpITzdyZ2s3dmZ2SG9pSjd6YkdBY3ZoNEhJc0wxK0NHNmpxTFhUWXhMdm02WHhYRzA4aGJpd0ZRdzRxeEFIRXNQcW9UWVNSd0x5YkVJR3ZmejU4K2o1ckNjK3hCNHc4UWpIY0thYy9CVU8zL3JHOFU1cXVLOHJZRnhHNFRkUkVPTDNtdkxkaHI4L2JzRVlZZmk0V0RIeWY3dWdrOExQakJWeVdyYmd0TU9RNkpac3IwQ2dPOHUyUTZBU0o5OXlFbUhzT1ZuOEJoWlBzNHhLL0MxQmliYVJYRERwZTk5MU1haGlZSXZmOVRMQnNoeDZZSEphZ1MrUHZ5R2thNWw0emZUZDVjcXZEZ05uT0F4OWUxQWMyTXV6akVyY0kwR1JvT2M5WUpkRDV2VzdpZFFtLytsMXdVK2hITml4VDRJbHg2WUNzcmZNTjRrZ1RVOVBTcVlYU1JMVXY0Yy9WeUYrUk1xdmNBMWpWU2NDSEdNYnBxREhCVS95MWMzQnh0dXRNTnowQUR3ZXBvQi9QQlNOdytEY2hGWE5qUnVrMzNEZUY0OVZPMHluQTFNSk9QYTEzU2RyYWtZQ2MxZ29IcGJyV3hiSDNHSzAzc3RLZlpvWU54UEE0SDR3TWhHbkZIdndNWjNqRFZRUEhabitpV3VyQmJQdWRXdkdYZy9xbGhYNVJGZnZueFpncjU3OSs3dy9Qbnp3LzM3OTA4RlJYbjA2TkhoN2R1M2l5MGlQK21mUG4xNjBtV0N2V3g5elhXNnJzakxseTlQZkp5N0RoN1dXcnhjYSszaHc0Y25IcmVSUkYrdFplc0lmUkxmNjlldjcrZzhwMTYvV3R6SXAwK2ZqbmR2UERDWi9zN0FqQWdpQ0I0VFlpZ1luc2VQSHgvdTNidDNLaDV1QnNxSEJwRmVEV2dWaTE2MlVhZDFibDdVdGFReU1DMjlTMnRnWHIxNmRWb2ZQUXd1V1Z6MWhHdk94YW4xVnMraVlQZng0OGZEN2UzdDhRNytBYm9SbHRnNjhhUFFJcW5hZ2ZqVE92NzgxSHI4aFJRNTlRMkRSR2hkMjNndkg2SDFTaEpZZzBmNkZxZHNrQWl0ODQzU1F1VDFmMVlxTDlsNHpwVnZtTkgxRE9UYjNXRXExLzdycFFVKzRMREJQaGFxQnZTYUNtUVhCd3ZBaXk2KzkyTytEbSsrYm95anBZK2N2VzhZNVlWa2VRUG5vMC8rY09uREZ4dkVjNUtmKy91NWtLMjFVTEU5cXhLbm1FUWswalZIZi9ManoyclpaWVVLV2tmaXJ4R0JYMTZ5eVc2dWRObUhZZ3V0Z1JCR2VrQXRsWUhSa1llQ0dzV25YbkJrWFE4ZmtnMlk1elQ3MFVzTXhWc0QrWjVYMlVBcm1QL3hDdUdWb3llREkzNnNjNlFoa2NkOTBURWMrbFhGMFg4NVpILzRBOUp6ODFwNVJvd0dRbm03UHVOV1RPd3kwQS9ucW9wNjZOZ3lNR3NSYTc1VFpkYVFiTTJCWG4rTDZRbkQ0anVRZUtYbjJ1Mmp0TFowSUp1OWRoaHk2ZWtkMlE0VGU2YnZrbGhqVmpOOHJUOURrSWQ4ZkdCaVBNQmF0ajRMNTFoaXo1RDJiQ21TSGNEZndXb0EyNjAvTWZDSVMzWTBBQTY5NHBiay9qMnl3L1J1R0JDSG52WUtSZ014MGd2WndHU2dmaDRzNnZGWEQwTFBxSnM0M2hzSGE1NlRCcVphcjJPTmo3RDVsZVJZazBoc0FCRFAyc0o2Zm1zNU0rekpOWU10Y2F1OWFkbVZCbWFVNEpZQ3NvR1p3VXpzekphMUNzZWFHdDFualQvbythR1R6Q0w2VkRuS08wd0ZhNUxZT2pDZ0ZVZnJhL0xhRzlXWU03bGhlOTFhRG9kL0FBaWx6dXluUXRiNkFBQUFBRWxGVGtTdVFtQ0NkAicPDxYCHwJoZGQCBw9kFhACAw8QZGQWAGQCCQ8QZGQWAWZkAg8PEGRkFgFmZAIVDxBkZBYBZmQCGw8QZGQWAWZkAiEPEGRkFgFmZAIzDxBkZBYBZmQCNw8WAh8DBY4WZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJd0FBQUFvQ0FZQUFBQXNUUkxHQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQWZQU1VSQlZIaGUzWms5cnRSS0VJWHZHbGdBR1JJcEtXSUZaR1RrU0VSa2tCQkJnZ2hKeUFsWUFTdGdBMnlBRGJBQmdodk9lNS9mbk9IY211cnVhdHN6UXU5SUpkdGRWYWQrWEc1NzdyMDVIUEgrL2Z2ajJXWFJpck0xL2pYeVh4UGpiODFyTFU0RGsyR1BSUDV2RGV2aFdubFU0clJzdEw2V296c3dHWndrSTZ3a0VySEdCK0MzVnc1QzFYZExqQkZtdWFzOWlHc3pjV1I3TTNLYUlRV3o5ajJJeXptMzhvLzhaL216SE5laXdwSFp6TVRlbXVmMERsTUJTU214U3hhVDJmdmFpRzgyM2dndHZyM2p0SkRWdm5kT2R3Ym1Xb1U1Um9YdERlSmNLbGJrSGNYcDZXZHl4SGJHUHFMbEczazVINzZTUUdaVDhkc0RNM0hjTnZxMWVMSjExbHIyVlZRNFdyRXJhTm0xT0N1OEZadnlLOG5KZEI3WEtnR0Z6SGJHWDFqakk3Z3Y1ejJ1U3B6STEwS21hOW5QeG5WVWZHZXhETXdsaUMrSkxmbmk2LzU3MUw2R28rVXp3NVhaYWkwZTk4TFpOMHdyUUxhK1J6SmJPUGFJbitGdnpLbUMyZGhyY3QzOEt5a0wya3Zra2czZGcvdVMrYlV3RzlQdE9iOW16cHNIWmhacml0dlNsSXJmeUViNmxsMDF4b2dIUkYyRmV5MW11R1diZnNOa1JMNDJFK2pTNk9XeVZoZHh6WHFKZGExNGErSmNmSWZaODhaRXZWL1BGbCsxbDEwV2V6Ym1Hb3hpOVBSNzVCYzVUZ01URmExZ2V5VFJ3cDdjZTNDTk9LN1pvNHd6cnUwUmQ4Unh0c05VRW5Oc1RiTGlQeFBEYlVkKzBzL3c3NEVzYnBaREphL1ozR2Z0STVvRDB5dWdGelRxcXJZOXV4RnVibTRXZWZiczJYSGxQNHhpeSsvSGp4L0gxVDlnRFIxMm1YNFd2My8vUG56OStuWEpVYnlLenhyWHYzNzlPbHFmQTczN1JJNlI3SVdMZjhPTVFORnJJVjgxUlkydlFBT0J0QVpHTjZUSEtWMDhPcjU5KzNiaVFSUTNrOCtmUHgrOXp1RTV6MHFFNTVubDdIRDlMZ016Q3JnRmtWdlhkNG80TmlYdU1EMzBCZ2J1bm40RzM3OS9QL0ZJNEk5cnZ2N2h3NGVqOTEyTUJxYkZpd2pldHlyY1ovbm5ZNFZrVGFCclFVMnBESXpxR0EzRTFvRlJYeDg4ZUxBY2xSOER4T3RKNEJ6K04yL2VuT3c0eHRjVGE1NVRieWZDZGl0YUhPa080OFl0eDYxSjdWR1VBSmR1U0E4ZWN6UVFVVC9LTitxNWRvNFhMMTRjTmVlUXIxNWRTTGJMT044ZUErTjJWWjlWcjZRcStWcUlQeDRkdnFZbVZ2UENMZzVFaE91cnZCRzlHQzFPZGlUc3MrRjN2dDdBVk9FNTlHcDAzVEl3YXh2aW9CaWVJaFdFVUR4YmJXeVdRRnh2QU5zelJ6VU5lZkxreWZMazlTQmJOYm5TaU43TkJGSFBLNEphUERlNFc3bWhjdzVlUlJsYStXVndQdnJVODUzaEJWWDdYVDU2U1Y2RlJDRVJsd2pac1FVekhPN3Jnazd2ZnZIb2lKN3piR0Fjdmg0SElzTDErQ0c2anFMWFRZeEx2bTZYeFhHMDhoYml3RlF3NHF4QUhFc1Bxb1RZU1J3THliRUlHdmZ6NTgrajVyQ2MreEI0dzhRakhjS2FjL0JVTzMvckc4VTVxdUs4cllGeEc0VGRSRU9MM212TGRocjgvYnNFWVlmaTRXREh5Zjd1Z2s4TFBqQlZ5V3JiZ3RNT1E2SlpzcjBDZ084dTJRNkFTSjk5eUVtSHNPVm44QmhaUHM0eEsvQzFCaWJhUlhERHBlOTkxTWFoaVlJdmY5VExCc2h4NllISmFnUytQdnlHa2E1bDR6ZlRkNWNxdkRnTm5PQXg5ZTFBYzJNdXpqRXJjSTBHUm9PYzlZSmRENXZXN2lkUW0vK2wxd1UraEhOaXhUNElseDZZQ3NyZk1ONGtnVFU5UFNxWVhTUkxVdjRjL1Z5RitSTXF2Y0ExalZTY0NIR01icHFESEJVL3kxYzNCeHR1dE1OejBBRHdlcG9CL1BCU053K0RjaEZYTmpSdWszM0RlRjQ5Vk8weW5BMU1KT1BhMTNTZHJha1lDYzFnb0hwYnJXeGJIM0dLMDNzdEtmWm9ZTnhQQTRINHdNaEduRkh2d01aM2pEVlFQSFpuK2lXdXJCYlB1ZFd2R1hnL3FsaFg1UkZmdm54WmdyNTc5Kzd3L1BuencvMzc5MDhGUlhuMDZOSGg3ZHUzaXkwaVArbWZQbjE2MG1XQ3ZXeDl6WFc2cnNqTGx5OVBmSnk3RGg3V1dyeGNhKzNodzRjbkhyZVJSRit0WmVzSWZSTGY2OWV2NytnOHAxNi9XdHpJcDArZmpuZHZQRENaL3M3QWpBZ2lDQjRUWWlnWW5zZVBIeC91M2J0M0toNXVCc3FIQnBGZURXZ1ZpMTYyVWFkMWJsN1V0YVF5TUMyOVMydGdYcjE2ZFZvZlBRd3VXVnoxaEd2T3hhbjFWcytpWVBmeDQ4ZkQ3ZTN0OFE3K0Fib1JsdGc2OGFQUUlxbmFnZmpUT3Y3ODFIcjhoUlE1OVEyRFJHaGQyM2d2SDZIMVNoSllnMGY2RnFkc2tBaXQ4NDNTUXVUMWYxWXFMOWw0enBWdm1OSDFET1RiM1dFcTEvN3JwUVUrNExEQlBoYXFCdlNhQ21RWEJ3dkFpeTYrOTJPK0RtKytib3lqcFkrY3ZXOFk1WVZrZVFQbm8wLytjT25ERnh2RWM1S2YrL3U1a0syMVVMRTlxeEtubUVRazBqVkhmL0xqejJyWlpZVUtXa2ZpcnhHQlgxNnl5VzZ1ZE5tSFlndXRnUkJHZWtBdGxZSFJrWWVDR3NXblhuQmtYUThma2cyWTV6VDcwVXNNeFZzRCtaNVgyVUFybVAveEN1R1ZveWVESTM2c2M2UWhrY2Q5MFRFYytsWEYwWDg1WkgvNEE5Sno4MXA1Um93R1FubTdQdU5XVE93eTBBL25xb3A2Nk5neU1Hc1JhNzVUWmRhUWJNMkJYbitMNlFuRDRqdVFlS1huMnUyanRMWjBJSnU5ZGhoeTZla2QyUTRUZTZidmtsaGpWak44clQ5RGtJZDhmR0JpUE1CYXRqNEw1MWhpejVEMmJDbVNIY0Rmd1dvQTI2MC9NZkNJUzNZMEFBNjk0cGJrL2oyeXcvUnVHQkNIbnZZS1JnTXgwZ3Zad0dTZ2ZoNHM2dkZYRDBMUHFKczQzaHNIYTU2VEJxWmFyMk9OajdENWxlUllrMGhzQUJEUDJzSjZmbXM1TSt6Sk5ZTXRjYXU5YWRtVkJtYVU0SllDc29HWndVenN6SmExQ3NlYUd0MW5qVC9vK2FHVHpDTDZWRG5LTzB3RmE1TFlPakNnRlVmcmEvTGFHOVdZTTdsaGU5MWFEb2QvQUFpbHp1eW5RdGI2QUFBQUFFbEZUa1N1UW1DQ2QCBw8WAh8CaGQCCQ8WAh8CaGQCCw8WAh8CaBYCAgEPFgIfAmhkAgMPFgIfAmhkAgUPDxYCHwEFEU1haGFiaHVsZWtoQXBwNC0wZGQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgEFJWN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkYnRucmVmZXJlc2jHcFaztBotVOYZF5ilvifCFjQLuv+0XAUekSINaPfB5Q==",
        "__VIEWSTATEGENERATOR": "73A8AD02",
        "__EVENTVALIDATION": "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",
        "ctl00$ContentPlaceHolder1$rbtnULPIN": "Know-no",
        "ctl00$ContentPlaceHolder1$rbtnSelectType": "SelectSatbara",
        "ctl00$ContentPlaceHolder1$ddlMainDist": str(district_code),
        "ctl00$ContentPlaceHolder1$rbtnSearchType": "17",
        "ctl00$ContentPlaceHolder1$ddlSelectSearchType": "--निवडा--",
        "ctl00$ContentPlaceHolder1$txtcsno": "",
        "ctl00$ContentPlaceHolder1$txtmobile1": "",
        "ctl00$ContentPlaceHolder1$ddllangforAll": "mr_in",
        "ctl00$ContentPlaceHolder1$txtcaptcha": "",
        "ctl00$ContentPlaceHolder1$hfoption": "",
        "ctl00$ContentPlaceHolder1$hfsaltstr": "",
        "ctl00$ContentPlaceHolder1$HiddenField1": "",
        "ctl00$ContentPlaceHolder1$HiddenField2": "",
        "ctl00$ContentPlaceHolder1$HiddenField3": "",
        "ctl00$ContentPlaceHolder1$HiddenField4": "",
        "ctl00$ContentPlaceHolder1$HiddenField5": "",
        "ctl00$ContentPlaceHolder1$HiddenField6": "",
        "ctl00$ContentPlaceHolder1$HiddenField7": "",
        "ctl00$ContentPlaceHolder1$HiddenField8": "",
        "ctl00$ContentPlaceHolder1$HiddenField9": "",
        "ctl00$ContentPlaceHolder1$hfdesig": "",
        "ctl00$ContentPlaceHolder1$hfcode": "",
        "ctl00$ContentPlaceHolder1$hfcaptchacheck": "",
        "ctl00$ContentPlaceHolder1$hfcaptchacheckPOSTING": "",
        "__ASYNCPOST": "true",
    }

    try:
        resp = session.post(url, data=data)
        if resp.status_code == 200:
            mandals = extract_options_from_html(resp.text, "ddlTalForAll")
            print(f"    Found {len(mandals)} mandals")
            return mandals
    except Exception as e:
        print(f"    Error fetching mandals: {e}")
    return {}


def get_villages(session, district_code, mandal_code):
    """Fetch villages for a given district and mandal."""
    data = {
        "ctl00$ContentPlaceHolder1$ScriptManager1": "ctl00$ContentPlaceHolder1$UpdatePanel1|ctl00$ContentPlaceHolder1$ddlTalForAll",
        "ctl00$ContentPlaceHolder1$rbtnULPIN": "Know-no",
        "ctl00$ContentPlaceHolder1$rbtnSelectType": "SelectSatbara",
        "ctl00$ContentPlaceHolder1$ddlMainDist": str(district_code),
        "ctl00$ContentPlaceHolder1$ddlTalForAll": str(mandal_code),
        "ctl00$ContentPlaceHolder1$rbtnSearchType": "17",
        "ctl00$ContentPlaceHolder1$ddlSelectSearchType": "2",
        "ctl00$ContentPlaceHolder1$txtcsno": "",
        "ctl00$ContentPlaceHolder1$txtmobile1": "",
        "ctl00$ContentPlaceHolder1$ddllangforAll": "mr_in",
        "ctl00$ContentPlaceHolder1$txtcaptcha": "",
        "ctl00$ContentPlaceHolder1$hfoption": "",
        "ctl00$ContentPlaceHolder1$hfsaltstr": "",
        "ctl00$ContentPlaceHolder1$HiddenField1": "",
        "ctl00$ContentPlaceHolder1$HiddenField2": "",
        "ctl00$ContentPlaceHolder1$HiddenField3": "",
        "ctl00$ContentPlaceHolder1$HiddenField4": "",
        "ctl00$ContentPlaceHolder1$HiddenField5": "",
        "ctl00$ContentPlaceHolder1$HiddenField6": "",
        "ctl00$ContentPlaceHolder1$HiddenField7": "",
        "ctl00$ContentPlaceHolder1$HiddenField8": "",
        "ctl00$ContentPlaceHolder1$HiddenField9": "",
        "ctl00$ContentPlaceHolder1$hfdesig": "",
        "ctl00$ContentPlaceHolder1$hfcode": "",
        "ctl00$ContentPlaceHolder1$hfcaptchacheck": "",
        "ctl00$ContentPlaceHolder1$hfcaptchacheckPOSTING": "",
        "__EVENTTARGET": "ctl00$ContentPlaceHolder1$ddlTalForAll",
        "__EVENTARGUMENT": "",
        "__LASTFOCUS": "",
        "__VIEWSTATE": "/wEPDwUKMTQ2MzYxMjg1OA8WAh4Ldmlld0NhcHRjaGEFBnppVUl4MRYCZg9kFgQCAw8PFgIeBFRleHQFsAFNQUhBIEJodWxla2ggKGkuZS4gTWFoYXJhc2h0cmEgQmh1bWkgQWJoaWxla2gpIC0gYSBsYW5kIHJlY29yZCB3ZWJzaXRlIG9mIE1haGFyYXNodHJhIHN0YXRlIChJbmRpYSkgdGhhdCBwcm92aWRlcyAgNy8xMiBleHRyYWN0LCA4QSBleHRyYWN0IGFuZCBQcm9wZXJ0eSBDYXJkIG9ubGluZSB0byBjaXRpemVuc2RkAgcPZBYGAgEPZBYKAgMPFgIeB1Zpc2libGVoZAIFDxYCHwJoZAIRDxBkZBYBAgFkAhMPZBYKAgUPDxYCHwFlZGQCCw8PFgIfAWVkZAIRDxBkZBYBZmQCFw8PFgIfAWVkZAIZDxYCHgNzcmMFxhNkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUl3QUFBQW9DQVlBQUFBc1RSTEdBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBYlhTVVJCVkhoZTNWb3hVaXc3RE9ReVZIRUdpaE9Ra1pFUlVFVkVTRUxFSnNRazVBUWNnT0lFWElBTGNBRXV3QUg0MWZ1MzUydTFraXpaWG5qdmQ1VnJaNnhXUzdhRnh6UEZ3WGNCcTlWcWM3VU4yZTl4cWhqVm1aVkhCYjhSczRXWk9VRnJYVEM5b2pPU29ZYlVhdWxhUHZ0QVJqK2Jxd1hZWm8yaFY2ZnFWOXBoOW9sTTR1UmtCeG54cWhNVm9WZHJSZzVTSTZObmNTcDVERDJTV29FOGUrUlhqZEZDeGY4blkzbVFHcEZlYjZ5TUh6Z2V6eXlZeUdFR1JyVTkveDdkck0vcytZQWVXeS9vS3pWNjliSitic0ZvOUNiU1FrWlhjeUlmYWF2a1RHNlBqNGVLRnRIams0RWNYMjhNK0tVZVNWR1FrUVFrWm1nUUdTMkxrODJCUFAzYmc4ZzNvd3VPYkMxb1R1UmoyYVljZWpPSi9pM2dXUFl4cG95bXhaRjlsYnhhM0o1OHRncW1tbGlHUTVCYjhaRVl6UWMySzRlTUxxQjVsbCt2Vmd2Zzk4WWpSM0k5dlF5YU8weXY4UDhKMXFSYm1ERlhGUTNOeGYxb0RpMy9BNHRnSmRKQ0pkRUt0eGM5K1ZUejJwZGZScThhTTR1V2J2b3RLUXZMdDFjdjhvUE5pK1gxeTk4L0RhTjV0ZnkxdlNjZWZLWWNla2N3WXlBejBCdTM1ZmRiNHdGbXg0WmVxV0Rnd0NaaDlYbkk4TFJlVnZ0dkFjY1RqU3M3NWhadjFLNnhVekJhb0NvSVNCOWNaelhJOC9pV1ZsVWI2Tld3ME9zN000ZFpzSExRZmVWSGtoVElEbEx6S243a1docWVyWVVxdjRxc3Z1UnBIOTdyWDRtTVRRUDkwdWJ4Q0cxUEYweEx1QmNIQndmcjl2ajR1T241RDdTZG5aMXRldHA0ZjM5Zi9IQnRBVGFNUit0R1k2eU0zK0orZm40dVk0RmRjdlM5QmMvTy9zaS9wYTJoK2ZKK1hUQ1dZRFZJTDdpNDJZS0o4b0xOS2hqdFkrbFdBRDJweVdzZGgvajYrdm8rT1RsSnhmUTAvaFNrZHBqZVFlaUp0SFRRaDRuRXI3WnpZV25UZGd1dEhRWWF0UGNXVEFXeVdCQTdHOU1iYXpRSG1ma0JXcnpJSGhhTWRzd21GSUVhbHBidTYxbFlYVEJlbkl5dTlzM2tMSUhIRUl1RnJUSVdhRWY2UkliaklSdURjQjlKRm5vU2t6Nld2NmVKL3A1SlpwSEF6OXBoZ0I3ZEtwNmZuOWN4NURqMkhmTW5VRHIwV291cit6eGVEM29tV2U4d0ZqemQ3UGdpd0g1NWVibkVRSHQ3ZTF2SHduWEczMFBMbDdCNDZNdjZSeGcrOUhJaU1nMmFlaEhSQjV0MTZLV05DOXZLaWZxTVp4VU1OZEcwSHQ5azJIRCtJQ1FYdXdkMVVCd2FuSk9ibTV0RmczMGN5ejdBSFBXNElsaGNTNGZYeXc2RERzdTVCVXdBL0RqSmJOVFQvUjhmSHh2UGY4RitXVERNZzdiS0pJL3NNTURyNit1U3QyV1hZem84UE53cUtnSWNGSjhFdE9ERHNVbFlmVDhGeHM3bWtINGtBVDBEUXlGd2dpMS8ybjd5T3d6eWlIVGxJd1c3Q1FFL0hHTHBIK2xySUJiNksyUEp3b3Fua2VGa3NGTXdFTzRWMTM3NGErWEVleE5GKzBqQnlMaWpPd3lBWFFPN0IzbmNMZTd2NzVjK0s5OElpQlhGckNCYW41azI5T2wrZDRlUnhDaVFCeng2T0xuNHE3UzJiaUJhQU5xc1NmWnltbEV3Z05RQkR3ZFgzbU04TGVqOG9JRytiTUgwekRuUThzdm9TZzZ2OFl1MmRZWWg1SFVQOU9FUnhhTTFlVStPTHBoMWNoc2JKem1UMTJqQnlCaklpVncyMlBYNXhJUFVxaGFNQnJXa1pnc1ZiaGJtRHFNRFZaT1VINnU4UlNQSVk4SElXTGlHclRMSjlJbGkwNTdSMVIvZThKZ0ZLbk1DSUZZMjVpaVFtMndlV25ZTmNFdUhYZ2s0UHowOWZkL2QzYTBiN3ZGN2RIUzBUTzc1K2ZsaXQ5bzZnUTMzOVBSMHgwNHQvTXAreHJMYXhjWEZvbmwxZGJWamx6RzFydFc0MEd5M3Q3ZUxEVnJNSmNvSnpSdUxiQzh2TDV2Wi9YTlJMaGhNRFBIdzhMQTE0T1BqNDJWaWNTMXRYaU0vS2hnMDJSOHRFblRRRDUvcjYrc2RPeG8xV3dVRGYzSXRuMWFSb0lHRGxpa1kvQUZtQUwwc05OZnp6V2lDWS80VHVJVVdyL1g5d2dNWHdqcjB5cmNTNy9HaTg1SnZOeGFZSTFxVUp3N3Brb3VQY0x5V3I5b1MwUnhsSGttUmZ3dTl2bFUvZDRlaFVFWlF2a0dBNzcwUldWcjBzd3BHdjVsUTE4dXQ5UVdXb0taY1BLM0ZZa1UvbXp6UDZJTThPUjR5QlFORUd2dENLM2VKcllMcFNWYStQbk1pSzZDZlZUQ0EzREhRa0tOOFMwRVJvYkM0QThDT1gvUlpvQjNOV3p4WnFPQndYcktmQ2l6b2dwRnp6V3ZaTndPV1hrOE02Uk9lWVZyaW1EQk9JSnBWTEZwRDM5UFhLeGo1bW93R2YzbHZOUlJQQlBLOHhhTWQxL29WR3JzWTdkaUZMT2d4QWl3WXl4YWh3cGRjN3pxRGlEKzB3NERQeWNzMDhMbElCRzFld1FEeUwxNDJLNzYzaUFESFIxK2RDNEErNm5xN2xGeDhqME13Sm4yb3ovN2ZRQlM3bGRkU01DMmlaY2NpYytMd2F6VnRrNHNrYmJKZ3JGall6ZkRYelltWERYMG9sT3dITmVrblk4bmRJOXFsOUlmSnpLT0plY3Z4L3hhcytkVUF4K0s1QlpNVkhZV25nZjZxZm04K00rSmtOTURSUEhtZjBSaEJqNzcyR1Q3MGpxQVY3NmZ6NmNYc2Njd1l0NldSN1l1d2MraWRrYXhHcENsdGxkaWF1NCs4ZTRBOG9seTh2RWZ6OTNTSjFuMEdxOVhxK3g5dHpZeklMTWFUV3dBQUFBQkpSVTVFcmtKZ2dnPT1kAhcPZBYCZg9kFggCAw8WAh8CZxYGAgMPEGRkFgFmZAIFDw8WAh8CZ2QWEgIBDw8WAh8BBSzgpa0v4KWn4KWoIOCkruCkvuCkueCkv+CkpOClgCAoNy8xMiBEZXRhaWxzKWRkAgUPEGQPFiRmAgECAgIDAgQCBQIGAgcCCAIJAgoCCwIMAg0CDgIPAhACEQISAhMCFAIVAhYCFwIYAhkCGgIbAhwCHQIeAh8CIAIhAiICIxYkEAUTLS3gpKjgpL/gpLXgpKHgpL4tLWVnEAUP4KSF4KSV4KWL4KSy4KS+BQE1ZxAFFeCkheCkruCksOCkvuCkteCkpOClgAUBN2cQBRXgpKzgpYHgpLLgpKHgpL7gpKPgpL4FATRnEAUS4KSv4KS14KSk4KSu4KS+4KSzBQIxNGcQBQ/gpLXgpL7gpLbgpL/gpK4FATZnEAUV4KSn4KS+4KSw4KS+4KS24KS/4KS1BQIyOWcQBTHgpJvgpKTgpY3gpLDgpKrgpKTgpYAg4KS44KSC4KSt4KS+4KSc4KWA4KSo4KSX4KSwBQIxOWcQBQ/gpJzgpL7gpLLgpKjgpL4FAjE4ZxAFEuCkqOCkvuCkguCkpuClh+CkoQUCMTVnEAUP4KSq4KSw4KSt4KSj4KWABQIxN2cQBQngpKzgpYDgpKEFAjI3ZxAFD+CksuCkvuCkpOClguCksAUCMjhnEAUV4KS54KS/4KSC4KSX4KWL4KSy4KWABQIxNmcQBQzgpKDgpL7gpKPgpYcFAjIxZxAFD+CkquCkvuCksuCkmOCksAUCMzZnEAUc4KSu4KSC4KSs4KSIIOCkieCkquCkqOCkl+CksAUCMjJnEAUb4KSw4KSk4KWN4KSo4KS+4KSX4KS/4KSw4KWABQIzMmcQBQ/gpLDgpL7gpK/gpJfgpKEFAjI0ZxAFHuCkuOCkv+CkguCkp+ClgeCkpuClgeCksOCljeCklwUCMzNnEAUY4KSX4KSh4KSa4KS/4KSw4KWL4KSy4KWABQIxMmcQBRXgpJfgpYvgpILgpKbgpL/gpK/gpL4FAjExZxAFGOCkmuCkguCkpuCljeCksOCkquClguCksAUCMTNnEAUS4KSo4KS+4KSX4KSq4KWC4KSwBQE5ZxAFEuCkreCkguCkoeCkvuCksOCkvgUCMTBnEAUP4KS14KSw4KWN4KSn4KS+BQE4ZxAFFeCkheCkueCkruCkpuCkqOCkl+CksAUCMjZnEAUP4KSc4KSz4KSX4KS+4KS1BQEzZxAFDOCkp+ClgeCks+ClhwUBMmcQBRjgpKjgpILgpKbgpYHgpLDgpKzgpL7gpLAFATFnEAUP4KSo4KS+4KS24KS/4KSVBQIyMGcQBRvgpJXgpYvgpLLgpY3gpLngpL7gpKrgpYLgpLAFAjM0ZxAFDOCkquClgeCko+ClhwUCMjVnEAUS4KS44KS+4KSC4KSX4KSy4KWABQIzNWcQBRLgpLjgpL7gpKTgpL7gpLDgpL4FAjMxZxAFFeCkuOCli+CksuCkvuCkquClguCksAUCMzBnFgECAWQCBw8QZA8WJGYCAQICAgMCBAIFAgYCBwIIAgkCCgILAgwCDQIOAg8CEAIRAhICEwIUAhUCFgIXAhgCGQIaAhsCHAIdAh4CHwIgAiECIgIjFiQQBRMtLeCkqOCkv+CkteCkoeCkvi0tZWcQBQ/gpIXgpJXgpYvgpLLgpL4FATVnEAUV4KSF4KSu4KSw4KS+4KS14KSk4KWABQE3ZxAFFeCkrOClgeCksuCkoeCkvuCko+CkvgUBNGcQBRLgpK/gpLXgpKTgpK7gpL7gpLMFAjE0ZxAFD+CkteCkvuCktuCkv+CkrgUBNmcQBRXgpKfgpL7gpLDgpL7gpLbgpL/gpLUFAjI5ZxAFMeCkm+CkpOCljeCksOCkquCkpOClgCDgpLjgpILgpK3gpL7gpJzgpYDgpKjgpJfgpLAFAjE5ZxAFD+CknOCkvuCksuCkqOCkvgUCMThnEAUS4KSo4KS+4KSC4KSm4KWH4KShBQIxNWcQBQ/gpKrgpLDgpK3gpKPgpYAFAjE3ZxAFCeCkrOClgOCkoQUCMjdnEAUP4KSy4KS+4KSk4KWC4KSwBQIyOGcQBRXgpLngpL/gpILgpJfgpYvgpLLgpYAFAjE2ZxAFDOCkoOCkvuCko+ClhwUCMjFnEAUP4KSq4KS+4KSy4KSY4KSwBQIzNmcQBRzgpK7gpILgpKzgpIgg4KSJ4KSq4KSo4KSX4KSwBQIyMmcQBRvgpLDgpKTgpY3gpKjgpL7gpJfgpL/gpLDgpYAFAjMyZxAFD+CksOCkvuCkr+Ckl+CkoQUCMjRnEAUe4KS44KS/4KSC4KSn4KWB4KSm4KWB4KSw4KWN4KSXBQIzM2cQBRjgpJfgpKHgpJrgpL/gpLDgpYvgpLLgpYAFAjEyZxAFFeCkl+Cli+CkguCkpuCkv+Ckr+CkvgUCMTFnEAUY4KSa4KSC4KSm4KWN4KSw4KSq4KWC4KSwBQIxM2cQBRLgpKjgpL7gpJfgpKrgpYLgpLAFATlnEAUS4KSt4KSC4KSh4KS+4KSw4KS+BQIxMGcQBQ/gpLXgpLDgpY3gpKfgpL4FAThnEAUV4KSF4KS54KSu4KSm4KSo4KSX4KSwBQIyNmcQBQ/gpJzgpLPgpJfgpL7gpLUFATNnEAUM4KSn4KWB4KSz4KWHBQEyZxAFGOCkqOCkguCkpuClgeCksOCkrOCkvuCksAUBMWcQBQ/gpKjgpL7gpLbgpL/gpJUFAjIwZxAFG+CkleCli+CksuCljeCkueCkvuCkquClguCksAUCMzRnEAUM4KSq4KWB4KSj4KWHBQIyNWcQBRLgpLjgpL7gpILgpJfgpLLgpYAFAjM1ZxAFEuCkuOCkvuCkpOCkvuCksOCkvgUCMzFnEAUV4KS44KWL4KSy4KS+4KSq4KWC4KSwBQIzMGcWAQIBZAINDxAPFgYeDkRhdGFWYWx1ZUZpZWxkBQp0YWx1a2Fjb2RlHg1EYXRhVGV4dEZpZWxkBQZkdG5hbWUeC18hRGF0YUJvdW5kZ2QQFQgTLS3gpKjgpL/gpLXgpKHgpL4tLQ/gpIXgpJXgpYvgpLLgpL4M4KSG4KSV4KWL4KSfGOCkpOClh+CksuCljeCkueCkvuCksOCkvg/gpKrgpL7gpKTgpYHgpLAh4KSs4KS+4KSw4KWN4KS24KWA4KSf4KS+4KSV4KSz4KWAFeCkrOCkvuCks+CkvuCkquClgeCksCHgpK7gpYHgpLDgpY3gpKTgpYHgpZvgpL7gpKrgpYHgpLAVCBMtLeCkqOCkv+CkteCkoeCkvi0tATQBMgExATYBNwEzATUUKwMIZ2dnZ2dnZ2cWAWZkAhMPEGQQFQAVABQrAwAWAGQCFQ8PFgIfAWVkZAIXDxBkDxYBZhYBBUPgpLjgpLDgpY3gpLXgpYcg4KSo4KSC4KSs4KSwL+Ckl+CknyDgpKjgpILgpKzgpLAoU3VydmV5L0dhdCBOdW1iZXIpFgFmZAIZDxAPFgYfBAUEc19pZB8FBQdzX2VuYW1lHwZnZBAVAxMtLeCkqOCkv+CkteCkoeCkvi0tHSDgpLjgpLDgpY3gpLXgpYcg4KSo4KSC4KSs4KSwL+CkheCkleCljeCkt+CksOClgCDgpLjgpLDgpY3gpLXgpYcg4KSo4KSC4KSs4KSwFQMTLS3gpKjgpL/gpLXgpKHgpL4tLQEyATgUKwMDZ2dnFgECAWQCGw9kFg4CAQ8PFgIfAQVB4KS44KSw4KWN4KS14KWHIOCkqOCkguCkrOCksCAo4KSt4KS+4KSXLTEpKFN1cnZleSBOdW1iZXIoUGFydC0xKSlkZAIHDw8WBB8BZR8CaGRkAgsPDxYCHwEFK+CkuOCksOCljeCkteClhyDgpKjgpILgpKzgpLAoU3VydmV5IE51bWJlcilkZAIPDxBkEBUAFQAUKwMAFgBkAhsPEGRkFgFmZAIjDxYCHwMFxhNkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUl3QUFBQW9DQVlBQUFBc1RSTEdBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNNQUFBN0RBY2R2cUdRQUFBYlhTVVJCVkhoZTNWb3hVaXc3RE9ReVZIRUdpaE9Ra1pFUlVFVkVTRUxFSnNRazVBUWNnT0lFWElBTGNBRXV3QUg0MWZ1MzUydTFraXpaWG5qdmQ1VnJaNnhXUzdhRnh6UEZ3WGNCcTlWcWM3VU4yZTl4cWhqVm1aVkhCYjhSczRXWk9VRnJYVEM5b2pPU29ZYlVhdWxhUHZ0QVJqK2Jxd1hZWm8yaFY2ZnFWOXBoOW9sTTR1UmtCeG54cWhNVm9WZHJSZzVTSTZObmNTcDVERDJTV29FOGUrUlhqZEZDeGY4blkzbVFHcEZlYjZ5TUh6Z2V6eXlZeUdFR1JyVTkveDdkck0vcytZQWVXeS9vS3pWNjliSitic0ZvOUNiU1FrWlhjeUlmYWF2a1RHNlBqNGVLRnRIams0RWNYMjhNK0tVZVNWR1FrUVFrWm1nUUdTMkxrODJCUFAzYmc4ZzNvd3VPYkMxb1R1UmoyYVljZWpPSi9pM2dXUFl4cG95bXhaRjlsYnhhM0o1OHRncW1tbGlHUTVCYjhaRVl6UWMySzRlTUxxQjVsbCt2Vmd2Zzk4WWpSM0k5dlF5YU8weXY4UDhKMXFSYm1ERlhGUTNOeGYxb0RpMy9BNHRnSmRKQ0pkRUt0eGM5K1ZUejJwZGZScThhTTR1V2J2b3RLUXZMdDFjdjhvUE5pK1gxeTk4L0RhTjV0ZnkxdlNjZWZLWWNla2N3WXlBejBCdTM1ZmRiNHdGbXg0WmVxV0Rnd0NaaDlYbkk4TFJlVnZ0dkFjY1RqU3M3NWhadjFLNnhVekJhb0NvSVNCOWNaelhJOC9pV1ZsVWI2Tld3ME9zN000ZFpzSExRZmVWSGtoVElEbEx6S243a1docWVyWVVxdjRxc3Z1UnBIOTdyWDRtTVRRUDkwdWJ4Q0cxUEYweEx1QmNIQndmcjl2ajR1T241RDdTZG5aMXRldHA0ZjM5Zi9IQnRBVGFNUit0R1k2eU0zK0orZm40dVk0RmRjdlM5QmMvTy9zaS9wYTJoK2ZKK1hUQ1dZRFZJTDdpNDJZS0o4b0xOS2hqdFkrbFdBRDJweVdzZGgvajYrdm8rT1RsSnhmUTAvaFNrZHBqZVFlaUp0SFRRaDRuRXI3WnpZV25UZGd1dEhRWWF0UGNXVEFXeVdCQTdHOU1iYXpRSG1ma0JXcnpJSGhhTWRzd21GSUVhbHBidTYxbFlYVEJlbkl5dTlzM2tMSUhIRUl1RnJUSVdhRWY2UkliaklSdURjQjlKRm5vU2t6Nld2NmVKL3A1SlpwSEF6OXBoZ0I3ZEtwNmZuOWN4NURqMkhmTW5VRHIwV291cit6eGVEM29tV2U4d0ZqemQ3UGdpd0g1NWVibkVRSHQ3ZTF2SHduWEczMFBMbDdCNDZNdjZSeGcrOUhJaU1nMmFlaEhSQjV0MTZLV05DOXZLaWZxTVp4VU1OZEcwSHQ5azJIRCtJQ1FYdXdkMVVCd2FuSk9ibTV0RmczMGN5ejdBSFBXNElsaGNTNGZYeXc2RERzdTVCVXdBL0RqSmJOVFQvUjhmSHh2UGY4RitXVERNZzdiS0pJL3NNTURyNit1U3QyV1hZem84UE53cUtnSWNGSjhFdE9ERHNVbFlmVDhGeHM3bWtINGtBVDBEUXlGd2dpMS8ybjd5T3d6eWlIVGxJd1c3Q1FFL0hHTHBIK2xySUJiNksyUEp3b3Fua2VGa3NGTXdFTzRWMTM3NGErWEVleE5GKzBqQnlMaWpPd3lBWFFPN0IzbmNMZTd2NzVjK0s5OElpQlhGckNCYW41azI5T2wrZDRlUnhDaVFCeng2T0xuNHE3UzJiaUJhQU5xc1NmWnltbEV3Z05RQkR3ZFgzbU04TGVqOG9JRytiTUgwekRuUThzdm9TZzZ2OFl1MmRZWWg1SFVQOU9FUnhhTTFlVStPTHBoMWNoc2JKem1UMTJqQnlCaklpVncyMlBYNXhJUFVxaGFNQnJXa1pnc1ZiaGJtRHFNRFZaT1VINnU4UlNQSVk4SElXTGlHclRMSjlJbGkwNTdSMVIvZThKZ0ZLbk1DSUZZMjVpaVFtMndlV25ZTmNFdUhYZ2s0UHowOWZkL2QzYTBiN3ZGN2RIUzBUTzc1K2ZsaXQ5bzZnUTMzOVBSMHgwNHQvTXAreHJMYXhjWEZvbmwxZGJWamx6RzFydFc0MEd5M3Q3ZUxEVnJNSmNvSnpSdUxiQzh2TDV2Wi9YTlJMaGhNRFBIdzhMQTE0T1BqNDJWaWNTMXRYaU0vS2hnMDJSOHRFblRRRDUvcjYrc2RPeG8xV3dVRGYzSXRuMWFSb0lHRGxpa1kvQUZtQUwwc05OZnp6V2lDWS80VHVJVVdyL1g5d2dNWHdqcjB5cmNTNy9HaTg1SnZOeGFZSTFxVUp3N3Brb3VQY0x5V3I5b1MwUnhsSGttUmZ3dTl2bFUvZDRlaFVFWlF2a0dBNzcwUldWcjBzd3BHdjVsUTE4dXQ5UVdXb0taY1BLM0ZZa1UvbXp6UDZJTThPUjR5QlFORUd2dENLM2VKcllMcFNWYStQbk1pSzZDZlZUQ0EzREhRa0tOOFMwRVJvYkM0QThDT1gvUlpvQjNOV3p4WnFPQndYcktmQ2l6b2dwRnp6V3ZaTndPV1hrOE02Uk9lWVZyaW1EQk9JSnBWTEZwRDM5UFhLeGo1bW93R2YzbHZOUlJQQlBLOHhhTWQxL29WR3JzWTdkaUZMT2d4QWl3WXl4YWh3cGRjN3pxRGlEKzB3NERQeWNzMDhMbElCRzFld1FEeUwxNDJLNzYzaUFESFIxK2RDNEErNm5xN2xGeDhqME13Sm4yb3ovN2ZRQlM3bGRkU01DMmlaY2NpYytMd2F6VnRrNHNrYmJKZ3JGall6ZkRYelltWERYMG9sT3dITmVrblk4bmRJOXFsOUlmSnpLT0plY3Z4L3hhcytkVUF4K0s1QlpNVkhZV25nZjZxZm04K00rSmtOTURSUEhtZjBSaEJqNzcyR1Q3MGpxQVY3NmZ6NmNYc2Njd1l0NldSN1l1d2MraWRrYXhHcENsdGxkaWF1NCs4ZTRBOG9seTh2RWZ6OTNTSjFuMEdxOVhxK3g5dHpZeklMTWFUV3dBQUFBQkpSVTVFcmtKZ2dnPT1kAicPDxYCHwJoZGQCBw9kFhACAw8QZGQWAGQCCQ8QZGQWAWZkAg8PEGRkFgFmZAIVDxBkZBYBZmQCGw8QZGQWAWZkAiEPEGRkFgFmZAIzDxBkZBYBZmQCNw8WAh8DBcYTZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJd0FBQUFvQ0FZQUFBQXNUUkxHQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQWJYU1VSQlZIaGUzVm94VWl3N0RPUXlWSEVHaWhPUWtaRVJVRVZFU0VMRUpzUWs1QVFjZ09JRVhJQUxjQUV1d0FINDFmdTM1MnUxa2l6WlhuanZkNVZyWjZ4V1M3YUZ4elBGd1hjQnE5VnFjN1VOMmU5eHFoalZtWlZIQmI4UnM0V1pPVUZyWFRDOW9qT1NvWWJVYXVsYVB2dEFSaiticXdYWVpvMmhWNmZxVjlwaDlvbE00dVJrQnhueHFoTVZvVmRyUmc1U0k2Tm5jU3A1REQyU1dvRThlK1JYamRGQ3hmOG5ZM21RR3BGZWI2eU1Iemdlenl5WXlHRUdSclU5L3g3ZHJNL3MrWUFlV3kvb0t6VjY5YkorYnNGbzlDYlNRa1pYY3lJZmFhdmtURzZQajRlS0Z0SGprNEVjWDI4TStLVWVTVkdRa1FRa1ptZ1FHUzJMazgyQlBQM2JnOGczb3d1T2JDMW9UdVJqMmFZY2VqT0ovaTNnV1BZeHBveW14WkY5bGJ4YTNKNTh0Z3FtbWxpR1E1QmI4WkVZelFjMks0ZU1McUI1bGwrdlZndmc5OFlqUjNJOXZReWFPMHl2OFA4SjFxUmJtREZYRlEzTnhmMW9EaTMvQTR0Z0pkSkNKZEVLdHhjOStWVHoycGRmUnE4YU00dVdidm90S1F2THQxY3Y4b1BOaStYMXk5OC9EYU41dGZ5MXZTY2VmS1ljZWtjd1l5QXowQnUzNWZkYjR3Rm14NFplcVdEZ3dDWmg5WG5JOExSZVZ2dHZBY2NUalNzNzVoWnYxSzZ4VXpCYW9Db0lTQjljWnpYSTgvaVdWbFViNk5XdzBPczdNNGRac0hMUWZlVkhraFRJRGxMektuN2tXaHFlcllVcXY0cXN2dVJwSDk3clg0bU1UUVA5MHVieENHMVBGMHhMdUJjSEJ3ZnI5dmo0dU9uNUQ3U2RuWjF0ZXRwNGYzOWYvSEJ0QVRhTVIrdEdZNnlNMytKK2ZuNHVZNEZkY3ZTOUJjL08vc2kvcGEyaCtmSitYVENXWURWSUw3aTQyWUtKOG9MTktoanRZK2xXQUQycHlXc2RoL2o2K3ZvK09UbEp4ZlEwL2hTa2RwamVRZWlKdEhUUWg0bkVyN1p6WVduVGRndXRIUVlhdFBjV1RBV3lXQkE3RzlNYmF6UUhtZmtCV3J6SUhoYU1kc3dtRklFYWxwYnU2MWxZWFRCZW5JeXU5czNrTElISEVJdUZyVElXYUVmNlJJYmpJUnVEY0I5SkZub1NrejZXdjZlSi9wNUpacEhBejlwaGdCN2RLcDZmbjljeDVEajJIZk1uVURyMFdvdXIrenhlRDNvbVdlOHdGanpkN1BnaXdINTVlYm5FUUh0N2Uxdkh3blhHMzBQTGw3QjQ2TXY2UnhnKzlISWlNZzJhZWhIUkI1dDE2S1dOQzl2S2lmcU1aeFVNTmRHMEh0OWsySEQrSUNRWHV3ZDFVQndhbkpPYm01dEZnMzBjeXo3QUhQVzRJbGhjUzRmWHl3NkREc3U1QlV3QS9EakpiTlRUL1I4Zkh4dlBmOEYrV1RETWc3YktKSS9zTU1EcjYrdVN0MldYWXpvOFBOd3FLZ0ljRko4RXRPRERzVWxZZlQ4RnhzN21rSDRrQVQwRFF5RndnaTEvMm43eU93enlpSFRsSXdXN0NRRS9IR0xwSCtscklCYjZLMlBKd29xbmtlRmtzRk13RU80VjEzNzRhK1hFZXhORiswakJ5TGlqT3d5QVhRTzdCM25jTGU3djc1YytLOThJaUJYRnJDQmFuNWsyOU9sK2Q0ZVJ4Q2lRQnp4Nk9MbjRxN1MyYmlCYUFOcXNTZlp5bWxFd2dOUUJEd2RYM21NOExlajhvSUcrYk1IMHpEblE4c3ZvU2c2djhZdTJkWVloNUhVUDlPRVJ4YU0xZVUrT0xwaDFjaHNiSnptVDEyakJ5QmpJaVZ3MjJQWDV4SVBVcWhhTUJyV2taZ3NWYmhibURxTURWWk9VSDZ1OFJTUElZOEhJV0xpR3JUTEo5SWxpMDU3UjFSL2U4SmdGS25NQ0lGWTI1aWlRbTJ3ZVduWU5jRXVIWGdrNFB6MDlmZC9kM2EwYjd2RjdkSFMwVE83NStmbGl0OW82Z1EzMzlQUjB4MDR0L01wK3hyTGF4Y1hGb25sMWRiVmpsekcxcnRXNDBHeTN0N2VMRFZyTUpjb0p6UnVMYkM4dkw1dlovWE5STGhoTURQSHc4TEExNE9QajQyVmljUzF0WGlNL0toZzAyUjh0RW5UUUQ1L3I2K3NkT3hvMVd3VURmM0l0bjFhUm9JR0RsaWtZL0FGbUFMMHNOTmZ6eldpQ1kvNFR1SVVXci9YOXdnTVh3anIweXJjUzcvR2k4NUp2TnhhWUkxcVVKdzdwa291UGNMeVdyOW9TMFJ4bEhrbVJmd3U5dmxVL2Q0ZWhVRVpRdmtHQTc3MFJXVnIwc3dwR3Y1bFExOHV0OVFXV29LWmNQSzNGWWtVL216elA2SU04T1I0eUJRTkVHdnRDSzNlSnJZTHBTVmErUG5NaUs2Q2ZWVENBM0RIUWtLTjhTMEVSb2JDNEE4Q09YL1Jab0IzTld6eFpxT0J3WHJLZkNpem9ncEZ6eld2Wk53T1dYazhNNlJPZVlWcmltREJPSUpwVkxGcEQzOVBYS3hqNW1vd0dmM2x2TlJSUEJQSzh4YU1kMS9vVkdyc1k3ZGlGTE9neEFpd1l5eGFod3BkYzd6cURpRCswdzREUHljczA4TGxJQkcxZXdRRHlMMTQySzc2M2lBREhSMStkQzRBKzZucTdsRng4ajBNd0puMm96LzdmUUJTN2xkZFNNQzJpWmNjaWMrTHdhelZ0azRza2JiSmdyRmpZemZEWHpZbVhEWDBvbE93SE5la25ZOG5kSTlxbDlJZkp6S09KZWN2eC94YXMrZFVBeCtLNUJaTVZIWVduZ2Y2cWZtOCtNK0prTk1EUlBIbWYwUmhCajc3MkdUNzBqcUFWNzZmejZjWHNjY3dZdDZXUjdZdXdjK2lka2F4R3BDbHRsZGlhdTQrOGU0QThvbHk4dkVmejkzU0oxbjBHcTlYcSt4OXR6WXpJTE1hVFd3QUFBQUJKUlU1RXJrSmdnZz09ZAIHDxYCHwJoZAIJDxYCHwJoZAILDxYCHwJoFgICAQ8WAh8CaGQCAw8WAh8CaGQCBQ8PFgIfAQURTWFoYWJodWxla2hBcHA0LTBkZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WAQUlY3RsMDAkQ29udGVudFBsYWNlSG9sZGVyMSRidG5yZWZlcmVzaEJ9cDa4pBzzPdvlhJOIcQ63m/OxXT9S+BH9AFBgfwyY",
        "__VIEWSTATEGENERATOR": "73A8AD02",
        "__EVENTVALIDATION": "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",
        "__ASYNCPOST": "true",
    }

    try:
        resp = session.post(url, data=data)
        if resp.status_code == 200:
            # extract villages from the village <select> (ddlVillForAll)
            villages = extract_options_from_html(resp.text, "ddlVillForAll")
            return villages
    except Exception as e:
        print(f"      Error fetching villages: {e}")
    return {}


def main():
    """Main function to extract and save district, mandal, and village data to separate CSVs."""
    
    # Get districts
    districts, session = get_districts()
    if not districts:
        print("Could not fetch districts. Exiting.")
        return

    # Prepare CSV file paths
    dist_csv = "district.csv"
    mandal_csv = "mandal.csv"
    village_csv = "village.csv"
    
    # Write district data
    with open(dist_csv, "w", newline="", encoding="utf-8") as f:
        writer = csv.writer(f)
        writer.writerow(["id", "value"])
        for dist_code, dist_name in districts.items():
            if dist_code not in ["--निवडा--", ""]:
                writer.writerow([dist_code, dist_name])
    
    print(f"Districts saved to {dist_csv}")
    
    # Prepare mandal and village files with headers
    with open(mandal_csv, "w", newline="", encoding="utf-8") as mandal_f, \
         open(village_csv, "w", newline="", encoding="utf-8") as village_f:
        
        mandal_writer = csv.writer(mandal_f)
        mandal_writer.writerow(["dist_id", "mandal_id", "value"])
        
        village_writer = csv.writer(village_f)
        village_writer.writerow(["mandal_id", "village_id", "value"])

        # Loop through each district
        for dist_code, dist_name in districts.items():
            if dist_code in ["--निवडा--", ""]:  # Skip placeholder options
                continue

            print(f"Processing district: {dist_name} ({dist_code})")

            # Get mandals for this district
            mandals = get_mandals(session, dist_code)
            if not mandals:
                print(f"  No mandals found for {dist_name}")
                continue

            # Loop through each mandal
            for mandal_code, mandal_name in mandals.items():
                if mandal_code in ["--निवडा--", ""]:
                    continue

                print(f"    Processing mandal: {mandal_name} ({mandal_code})")
                
                # Write mandal data
                mandal_writer.writerow([dist_code, mandal_code, mandal_name])

                # Get villages for this mandal
                villages = get_villages(session, dist_code, mandal_code)
                if not villages:
                    print(f"      No villages found for {mandal_name}")
                    continue

                # Write village data
                for vill_code, vill_name in villages.items():
                    if vill_code in ["--निवडा--", ""]:
                        continue
                    village_writer.writerow([mandal_code, vill_code, vill_name])

                time.sleep(0.5)  # Be nice to the server
            
            time.sleep(0.5)

    print(f"\nMandals saved to {mandal_csv}")
    print(f"Villages saved to {village_csv}")


if __name__ == "__main__":
    main()
